From Wikipedia, the free encyclopedia

Type system

|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [Type systems](/wiki/Type_system "Type system")                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| General concepts                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <ul><li><a href="/wiki/Type_safety" title="Type safety">Type safety</a></li><li><a href="/wiki/Strong_and_weak_typing" title="Strong and weak typing">Strong vs. weak typing</a></li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Major categories                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <ul><li><a href="/wiki/Type_system#Static_type_checking" title="Type system">Static</a> vs. <a href="/wiki/Type_system#Dynamic_type_checking_and_runtime_type_information" title="Type system">dynamic</a></li><li><a href="/wiki/Manifest_typing" title="Manifest typing">Manifest</a> vs. <a href="/wiki/Type_inference" title="Type inference">inferred</a></li><li><a href="/wiki/Nominal_type_system" title="Nominal type system">Nominal</a> vs. <a href="/wiki/Structural_type_system" title="Structural type system">structural</a></li><li><a href="/wiki/Duck_typing" title="Duck typing">Duck typing</a></li></ul>                                                                                                                                                          |
| Minor categories                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <ul><li><a href="/wiki/Abstract_type" title="Abstract type">Abstract</a></li><li><a href="/wiki/Dependent_type" title="Dependent type">Dependent</a></li><li><a href="/wiki/Flow-sensitive_typing" title="Flow-sensitive typing">Flow-sensitive</a></li><li><a>Gradual</a></li><li><a href="/wiki/Intersection_type" title="Intersection type">Intersection</a></li><li><a href="/wiki/Latent_typing" title="Latent typing">Latent</a></li><li><a href="/wiki/Refinement_type" title="Refinement type">Refinement</a></li><li><a href="/wiki/Substructural_type_system" title="Substructural type system">Substructural</a></li><li><a href="/wiki/Uniqueness_type" title="Uniqueness type">Unique</a></li><li><a href="/wiki/Session_type" title="Session type">Session</a></li></ul> |

|<link />

- [<abbr>v</abbr>](/wiki/Template:Type_systems "Template:Type systems")
- [<abbr>t</abbr>](/wiki/Template_talk:Type_systems "Template talk:Type systems")
- [<abbr>e</abbr>](/wiki/Special:EditPage/Template:Type_systems "Special:EditPage/Template:Type systems")|

**Gradual typing** is a [type system](/wiki/Type_system "Type system") that lies in between [static typing](/wiki/Static_typing "Static typing") and [dynamic typing](/wiki/Dynamic_typing "Dynamic typing"). Some [variables](</wiki/Variable_(computer_science)> "Variable (computer science)") and expressions may be given types and the correctness of the typing is checked at [compile time](/wiki/Compile_time "Compile time") (which is _static typing_) and some expressions may be left untyped and eventual [type errors](/wiki/Type_safety "Type safety") are reported at [runtime](</wiki/Runtime_(program_lifecycle_phase)> "Runtime (program lifecycle phase)") (which is _dynamic typing_).

Gradual typing allows software developers to choose either type paradigm as appropriate, from within a single language.<sup>[\[1\]](#cite_note-whatis-1)</sup> In many cases gradual typing is added to an existing dynamic language,<sup>[\[2\]](#cite_note-2)</sup> creating a derived language allowing but not requiring static typing to be used. In some cases a language uses gradual typing from the start.

## History

\[[edit](/w/index.php?title=Gradual_typing&action=edit&section=1 "Edit section: History")\]

The term was coined by Jeremy Siek, who developed gradual typing in 2006 with Walid Taha.<sup>[\[1\]](#cite_note-whatis-1)</sup><sup>\[_[non-primary source needed](/wiki/Wikipedia:No_original_research#Primary,_secondary_and_tertiary_sources "Wikipedia:No original research")_\]</sup>

## Implementation

\[[edit](/w/index.php?title=Gradual_typing&action=edit&section=2 "Edit section: Implementation")\]

In gradual typing, a special type named _dynamic_ is used to represent statically-unknown types. The notion of type equality is replaced by a new relation called _consistency_ that relates the dynamic type to every other type. The consistency relation is reflexive and symmetric but not transitive.<sup>[\[3\]](#cite_note-3)</sup>

Prior attempts at integrating static and dynamic typing tried to make the dynamic type be both the top and bottom of the subtype hierarchy. However, because [subtyping](/wiki/Subtyping "Subtyping") is transitive, that results in every type becoming related to every other type, and so subtyping would no longer rule out any static type errors. The addition of a second phase of plausibility checking to the type system did not completely solve this problem.<sup>[\[4\]](#cite_note-4)</sup><sup>[\[5\]](#cite_note-5)</sup>

Gradual typing can easily be integrated into the type system of an object-oriented language that already uses the [subsumption](/wiki/Subtyping#Subsumption "Subtyping") rule to allow implicit [upcasts](/wiki/Upcasting "Upcasting") with respect to subtyping. The main idea is that consistency and subtyping are orthogonal ideas that compose nicely. To add subtyping to a gradually-typed language, simply add the subsumption rule and add a subtyping rule that makes the dynamic type a subtype of itself, because subtyping is supposed to be reflexive. (But do not make the top of the subtyping order dynamic!)<sup>[\[6\]](#cite_note-6)</sup>

## Examples

\[[edit](/w/index.php?title=Gradual_typing&action=edit&section=3 "Edit section: Examples")\]

Examples of gradually typed languages derived from existing dynamically typed languages include [Closure Compiler](/wiki/Closure_Compiler "Closure Compiler"), [TypeScript](/wiki/TypeScript "TypeScript") (both for [JavaScript](/wiki/JavaScript "JavaScript")<sup>[\[7\]](#cite_note-7)</sup>),<sup>[\[8\]](#cite_note-8)</sup> [Hack](</wiki/Hack_(programming_language)> "Hack (programming language)") (for PHP), PHP (since 7.0<sup>[\[9\]](#cite_note-9)</sup>), Typed Racket (for [Racket](</wiki/Racket_(programming_language)> "Racket (programming language)")<sup>[\[10\]](#cite_note-10)</sup><sup>[\[11\]](#cite_note-11)</sup>), Typed Clojure (for [Clojure](/wiki/Clojure "Clojure")),<sup>[\[12\]](#cite_note-12)</sup> [Cython](/wiki/Cython "Cython") (a [Python](</wiki/Python_(programming_language)> "Python (programming language)") compiler), [mypy](/wiki/Mypy "Mypy") (a static type checker for [Python](</wiki/Python_(programming_language)> "Python (programming language)")),<sup>[\[13\]](#cite_note-13)</sup> [pyre](https://pyre-check.org/) (alternative static type checker for Python),<sup>[\[14\]](#cite_note-14)</sup> or [cperl](/w/index.php?title=Cperl&action=edit&redlink=1 "Cperl (page does not exist)") (a typed [Perl 5](/wiki/Perl_5 "Perl 5")). [ActionScript](/wiki/ActionScript "ActionScript") is a gradually typed language<sup>[\[15\]](#cite_note-15)</sup> that is now an implementation of [ECMAScript](/wiki/ECMAScript "ECMAScript"), though it originally arose separately as a sibling, both influenced by Apple&#039;s [HyperTalk](/wiki/HyperTalk "HyperTalk").

A system for the [J programming language](</wiki/J_(programming_language)> "J (programming language)") has been developed,<sup>[\[16\]](#cite_note-16)</sup> adding coercion, error propagation and filtering to the normal validation properties of the type system as well as applying type functions outside of function definitions, thereby the increasing flexibility of type definitions.

Conversely, [C#](</wiki/C_Sharp_(programming_language)> "C Sharp (programming language)") started as a statically typed language, but as of version 4.0 is gradually typed, allowing variables to be explicitly marked as dynamic by using the `dynamic` type.<sup>[\[17\]](#cite_note-17)</sup> Gradually typed languages not derived from a dynamically typed language include [Dart](</wiki/Dart_(programming_language)> "Dart (programming language)"), [Dylan](</wiki/Dylan_(programming_language)> "Dylan (programming language)"), and [Raku](</wiki/Raku_(programming_language)> "Raku (programming language)").

[Raku](</wiki/Raku_(programming_language)> "Raku (programming language)") (formerly Perl6) has gradual typing implemented from the start. Type checks occur at all locations where values are assigned or bound. An "untyped" variable or parameter is typed as `Any`, which will match (almost) all values. The compiler flags type-checking conflicts at compile time if it can determine at compile time that they will never succeed.

[Objective-C](/wiki/Objective-C "Objective-C") has gradual typing for object pointers with respect to method calls. Static typing is used when a variable is typed as pointer to a certain class of object: when a method call is made to the variable, the compiler statically checks that the class is declared to support such a method, or it generates a warning or error. However, if a variable of the type `id` is used, the compiler will allow any method to be called on it.

The [JS++](/wiki/JS%2B%2B "JS++") programming language, released in 2011, is a superset of [JavaScript](/wiki/JavaScript "JavaScript") (dynamically typed) with a gradual type system that is [sound](/wiki/Soundness "Soundness") for [ECMAScript](/wiki/ECMAScript "ECMAScript") and [DOM](/wiki/Document_Object_Model "Document Object Model") API corner cases.<sup>[\[18\]](#cite_note-18)</sup>

## References

\[[edit](/w/index.php?title=Gradual_typing&action=edit&section=4 "Edit section: References")\]

1. ^ [<sup>**_a_**</sup>](#cite_ref-whatis_1-0) [<sup>**_b_**</sup>](#cite_ref-whatis_1-1)<cite>Siek, Jeremy (24 March 2014). ["What is gradual typing?"](http://homes.soic.indiana.edu/jsiek/what-is-gradual-typing/).</cite>
2. **[^](#cite_ref-2)**<link /><cite>Bracha, Gilad (2004). ["Pluggable Type Systems"](https://www.researchgate.net/publication/213885984). _OOPSLA&#039;04 Workshop on Revival of Dynamic Languages_.</cite>
3. **[^](#cite_ref-3)**<link /><cite>Siek, Jeremy; Taha, Walid (September 2006). [_Gradual Typing for Functional Languages_](http://scheme2006.cs.uchicago.edu/13-siek.pdf) (PDF). _Scheme and Functional Programming 2006_. [University of Chicago](/wiki/University_of_Chicago "University of Chicago"). pp. 81–92.</cite>
4. **[^](#cite_ref-4)**<link /><cite>Thatte, Satish (1990). "Quasi-static typing". _Proceedings of the 17th ACM SIGPLAN-SIGACT symposium on Principles of programming languages - POPL &#039;90_. [ACM](/wiki/Association_for_Computing_Machinery "Association for Computing Machinery"). pp. 367–381. [doi](</wiki/Doi_(identifier)> "Doi (identifier)"):[10.1145/96709.96747](https://doi.org/10.1145%2F96709.96747). [ISBN](</wiki/ISBN_(identifier)> "ISBN (identifier)") [<bdi>978-0897913430</bdi>](/wiki/Special:BookSources/978-0897913430 "Special:BookSources/978-0897913430"). [S2CID](</wiki/S2CID_(identifier)> "S2CID (identifier)") [8725290](https://api.semanticscholar.org/CorpusID:8725290).</cite>
5. **[^](#cite_ref-5)**<link /><cite>Oliart, Alberto (1994). [_An Algorithm for Inferring Quasi-Static Types_](https://open.bu.edu/handle/2144/1483?show=full) (Technical report). Boston University. 1994-013.</cite>
6. **[^](#cite_ref-6)**<link /><cite>Siek, Jeremy; Taha, Walid (August 2007). "Gradual Typing for Objects". _ECOOP 2007 – Object-Oriented Programming_. Lecture Notes in Computer Science. Vol. 4609. [Springer](/wiki/Springer_Science%2BBusiness_Media "Springer Science+Business Media"). pp. 2–27. [doi](</wiki/Doi_(identifier)> "Doi (identifier)"):[10.1007/978-3-540-73589-2_2](https://doi.org/10.1007%2F978-3-540-73589-2_2). [ISBN](</wiki/ISBN_(identifier)> "ISBN (identifier)") [<bdi>978-3-540-73588-5</bdi>](/wiki/Special:BookSources/978-3-540-73588-5 "Special:BookSources/978-3-540-73588-5").</cite>
7. **[^](#cite_ref-7)**<link /><cite>Feldthaus, Asger; Møller, Anders (2014). ["Checking correctness of TypeScript interfaces for JavaScript libraries"](https://dl.acm.org/doi/10.1145/2714064.2660215). [_Proceedings of the 2014 ACM International Conference on Object Oriented Programming Systems Languages & Applications_](http://cs.au.dk/~amoeller/papers/tscheck/). Portland, Oregon, USA: ACM Press. pp. 1–16. [doi](</wiki/Doi_(identifier)> "Doi (identifier)"):[10.1145/2660193.2660215](https://doi.org/10.1145%2F2660193.2660215). [ISBN](</wiki/ISBN_(identifier)> "ISBN (identifier)") [<bdi>978-1-4503-2585-1</bdi>](/wiki/Special:BookSources/978-1-4503-2585-1 "Special:BookSources/978-1-4503-2585-1").</cite>
8. **[^](#cite_ref-8)**<link /><cite>Swamy, N.; Fournet, C.; Rastogi, A.; Bhargavan, K.; Chen, J.; Strub, P. Y.; Bierman, G. (2014). ["Gradual typing embedded securely in JavaScript"](http://www.cs.umd.edu/~aseem/tsstar.pdf) (PDF). _Proceedings of the 41st ACM SIGPLAN-SIGACT Symposium on Principles of Programming Languages - POPL &#039;14_. pp. 425–437. [doi](</wiki/Doi_(identifier)> "Doi (identifier)"):[10.1145/2535838.2535889](https://doi.org/10.1145%2F2535838.2535889). [ISBN](</wiki/ISBN_(identifier)> "ISBN (identifier)") [<bdi>9781450325448</bdi>](/wiki/Special:BookSources/9781450325448 "Special:BookSources/9781450325448").</cite>
9. **[^](#cite_ref-9)**<link /><cite>["PHP: Function arguments - Manual » Strict typing"](https://secure.php.net/manual/en/functions.arguments.php#functions.arguments.type-declaration.strict).</cite>
10. **[^](#cite_ref-10)**<link /><cite>Tobin-Hochstadt, Sam; Felleisen, Matthias. ["Interlanguage Migration: From Scripts to Programs"](https://www2.ccs.neu.edu/racket/pubs/#dls06-tf). _Proceedings of the Symposium on Object-Oriented Programming Systems, Companion Volume_. Portland, OR. Tobin-Hochstadt06. Retrieved 2020-11-06.</cite>
11. **[^](#cite_ref-11)**<link /><cite>Tobin-Hochstadt, Sam; Felleisen, Matthias. ["The Design and Implementation of Typed Scheme"](https://www2.ccs.neu.edu/racket/pubs/#popl08-thf). _Proceedings of the Principles of Programming Languages_. San Diego, CA. Tobin-Hochstadt08. Retrieved 2020-11-06.</cite>
12. **[^](#cite_ref-12)**<link /><cite>Chas Emerick. ["Typed Clojure User Guide"](https://github.com/clojure/core.typed/wiki/User-Guide). _[GitHub](/wiki/GitHub "GitHub")_.</cite>
13. **[^](#cite_ref-13)**<link /><cite>Jukka Lehtosalo. ["mypy - Optional Static Typing for Python"](http://mypy-lang.org/).</cite>
14. **[^](#cite_ref-14)**<link /><cite>["Pyre - A performant type-checker for Python 3"](https://pyre-check.org/).</cite>
15. **[^](#cite_ref-15)**<link /><cite>Aseem Rastogi; Avik Chaudhuri; Basil Hosmer (January 2012). ["The Ins and Outs of Gradual Type Inference"](https://www.cs.umd.edu/~avik/papers/iogti.pdf) (PDF). [Association for Computing Machinery](/wiki/Association_for_Computing_Machinery "Association for Computing Machinery") (ACM). Retrieved 2014-09-23.</cite>
16. **[^](#cite_ref-16)**<link /><cite>["type-system-j"](https://github.com/Pascal-J/type-system-j). _[GitHub](/wiki/GitHub "GitHub")_.</cite>
17. **[^](#cite_ref-17)**<link /><cite>["dynamic (C# Reference)"](http://msdn.microsoft.com/en-us/library/dd264741.aspx). _[MSDN Library](/wiki/MSDN_Library "MSDN Library")_. Microsoft. Retrieved 14 January 2014.</cite>
18. **[^](#cite_ref-18)**<link /><cite>["The JS++ Type System, Appendix B: Problems (Why was this hard to solve?)"](https://www.onux.com/jspp/tutorials/type-system#Appendix-B). Retrieved 10 February 2020.</cite>

## Further reading

\[[edit](/w/index.php?title=Gradual_typing&action=edit&section=5 "Edit section: Further reading")\]

- <link /><cite>Siek, Jeremy G.; Vitousek, Michael M.; Cimini, Matteo; Boyland, John Tang (2015). Ball, Thomas; Bodik, Rastislav; Krishnamurthi, Shriram; Lerner, Benjamin S.; Morrisett, Greg (eds.). *Refined Criteria for Gradual Typing*. Leibniz International Proceedings in Informatics. Vol. 32. Dagstuhl, Germany: Schloss Dagstuhl–Leibniz-Zentrum fuer Informatik. pp. 274–293. [doi](/wiki/Doi_(identifier) "Doi (identifier)"):[10.4230/lipics.snapl.2015.274](https://doi.org/10.4230%2Flipics.snapl.2015.274). [ISBN](/wiki/ISBN_(identifier) "ISBN (identifier)") [<bdi>9783939897804</bdi>](/wiki/Special:BookSources/9783939897804 "Special:BookSources/9783939897804"). [S2CID](/wiki/S2CID_(identifier) "S2CID (identifier)") [15383644](https://api.semanticscholar.org/CorpusID:15383644).</cite>

Retrieved from "[https://en.wikipedia.org/w/index.php?title=Gradual_typing&oldid=1297107097](https://en.wikipedia.org/w/index.php?title=Gradual_typing&oldid=1297107097)"

[Category](/wiki/Help:Category "Help:Category"):

- [Type systems](/wiki/Category:Type_systems "Category:Type systems")

Hidden categories:

- [Articles with short description](/wiki/Category:Articles_with_short_description "Category:Articles with short description")
- [Short description is different from Wikidata](/wiki/Category:Short_description_is_different_from_Wikidata "Category:Short description is different from Wikidata")
- [All pages needing factual verification](/wiki/Category:All_pages_needing_factual_verification "Category:All pages needing factual verification")
- [Wikipedia articles needing factual verification from October 2023](/wiki/Category:Wikipedia_articles_needing_factual_verification_from_October_2023 "Category:Wikipedia articles needing factual verification from October 2023")
